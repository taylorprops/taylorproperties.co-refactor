function submit_general_contact_form(){var e=$("#from_name").val(),t=$("#from_email").val(),a=$("#from_phone").val(),n=$("#message").val();$.ajax({type:"POST",url:"/ajax/email/email-general.php",data:{from_name:e,from_email:t,from_phone:a,message:n},success:function(){$("#general_contact_success").modal(),$("#general_contact_form").find("input").val(""),$("#general_contact_form").find("textarea").val(""),$(".md-form").find("label").removeClass("active")}})}function submit_agent_contact_form(){var e=$("#agent_id").val(),t=$("#from_name").val(),a=$("#from_email").val(),n=$("#from_phone").val(),o=$("#message").val();$.ajax({type:"POST",url:"/ajax/email/email-agent.php",data:{agent_id:e,from_name:t,from_email:a,from_phone:n,message:o},success:function(){$("#agent_contact_success").modal(),$("#contact_form").modal("hide")}})}function set_agent_details(){$("#agent_id").val($(this).data("agentid")),$("#agent_first").text($(this).data("agentfirst"))}function search_agents(){var e=$("#agent_search").val();$(".agent-col").each(function(){var t=new RegExp(e,"i");$(this).data("agentfirst").match(t)||$(this).data("agentlast").match(t)||$(this).data("agentfull").match(t)?$(this).show():$(this).hide()}),$(".bg-color1-light").removeClass("bg-color1-light").addClass("bg-color1")}function load_search(){$.ajax({type:"post",url:"/ajax/our-agents/our-agents-all.php",success:function(e){var t=$($.parseHTML(e));$(".agent-div").html(t.filter("#agents")).find("#agents").children().unwrap(),$("#start").val(t.filter("#total")),$(".email-agent").click(set_agent_details)}})}function loadmore(){var e=$("#start").val();"loading"!=e&&($("#start").val("loading"),$.ajax({type:"post",url:"/ajax/our-agents/our-agents.php",data:{start:e},success:function(t){$(".agent-div").append(t),$("#start").val(parseInt(e)+24),$(".email-agent").click(set_agent_details)}}))}function get_featured(){$.ajax({type:"POST",url:"/ajax/featured-listings/featured-listings.php",success:function(e){$("#featured_props_div").html(e),even_cards()}})}function get_featured_mobile(){$.ajax({type:"POST",url:"/ajax/featured-listings/featured-listings-mobile.php",success:function(e){$("#featured_props_div_mobile").html(e)}})}function price_change(){var e="No Min",t="No Max";""!=$("#min_price").val()&&(e=$("#min_price option:selected").text()),""!=$("#max_price").val()&&(t=$("#max_price option:selected").text()),$("#price_dropdown").html(e+" - "+t),$(window).width()<768&&$("#price_dropdown").css({"font-size":"11px",padding:"12px 3px 11px 3px"})}function beds_baths_change(){var e="Any",t="Any";""!=$("#beds").val()&&(e=$("#beds option:selected").text()),""!=$("#baths").val()&&(t=$("#baths option:selected").text()),$("#beds_baths_dropdown").html(e+" BR / "+t+" BA")}function search_link(){if(null!=$("#min_price").val()&&""!=$("#min_price").val())var e=$("#min_price").val();else e="0";if(null!=$("#max_price").val()&&""!=$("#max_price").val())var t=$("#max_price").val();else t="0";if(null!=$("#beds").val()&&""!=$("#beds").val())var a=$("#beds").val();else a="0";if(null!=$("#baths").val()&&""!=$("#baths").val())var n=$("#baths").val();else n="0";var o=$("input[name=buyrent]:checked").val();if("buy"==o)var s="SFR,CND";else if("rent"==o)s="RNT";var i=$("#search").val();Cookies.set("search",i),Cookies.set("beds",a),Cookies.set("baths",n),Cookies.set("lowprice",e),Cookies.set("highprice",t),Cookies.set("buyrent",o),$.ajax({type:"POST",url:"/ajax/search/search-link.php",data:{search:i,beds:a,baths:n,lowprice:e,lowprice:e,highprice:t,highprice:t,prop_type:s},success:function(e){""!=e?window.location=e:toastr.error("We are sorry there are no matching Addresses, Cities, MLS Numbers or Zip Codes for your search.","No Results",{closeButton:!0,positionClass:"toast-top-center"})}})}function search(){if(null!=$("#min_price").val()&&""!=$("#min_price").val())var e=$("#min_price").val();else e="0";if(null!=$("#max_price").val()&&""!=$("#max_price").val())var t=$("#max_price").val();else t="0";if(null!=$("#beds").val()&&""!=$("#beds").val())var a=$("#beds").val();else a="0";if(null!=$("#baths").val()&&""!=$("#baths").val())var n=$("#baths").val();else n="0";var o=$("input[name=buyrent]:checked").val();if("buy"==o)var s="SFR,CND";else if("rent"==o)s="RNT";var i=$(this).data("type");if("mls"==i){var r=$(this).data("mls"),c=$(this).data("address"),l="http://homesearch.taylorproperties.co/homes/113643/530/"+(c=c.replace(/ /g,"-").replace(/[',]/g,""))+"/"+r;Cookies.set("search",r)}else if("zip"==i){var d=$(this).data("zip");l="http://homesearch.taylorproperties.co/listing/results/113643?zip="+d+"&location=&propertyType="+s+"&status=active&minListPrice="+e+"&maxListPrice="+t+"&squareFeet=&bedrooms="+a+"&bathCount="+n+"&_openHomesOnlyYn=on&_dateRange=on";Cookies.set("search",d)}else if("city"==i){var h=$(this).data("cityid"),p=$(this).data("cityname");l="http://homesearch.taylorproperties.co/listing/results/113643?cityId="+h+"&location=&propertyType="+s+"&status=active&minListPrice="+e+"&maxListPrice="+t+"&squareFeet=&bedrooms="+a+"&bathCount="+n+"&_openHomesOnlyYn=on&_dateRange=on";Cookies.set("search",p)}Cookies.set("beds",a),Cookies.set("baths",n),Cookies.set("lowprice",e),Cookies.set("highprice",t),Cookies.set("buyrent",o),$(this).prop("href",l),jQuery.isClickEventRequestingNewTab=function(e){return e.metaKey||e.ctrlKey||2===e.which},isClickEventRequestingNewTab}function parallax(){var e=$(window),t=window.pageYOffset||document.documentElement.scrollTop;e.on("scroll resize",function(){t=window.pageYOffset||document.documentElement.scrollTop}),$('[data-type="content"]').each(function(a,n){var o,s=$(this),i=parseInt(s.offset().top),r=s.data("speed")||1;e.on("scroll resize",function(){o=i-t/r,s.css("top",o)})}),$('[data-type="background"]').each(function(){var a,n=$(this),o=parseInt(n.offset().top),s=n.data("speed")||0;e.on("scroll resize",function(){a="40% "+-(t-o)/s+"px",n.css({backgroundPosition:a})})}),e.trigger("scroll")}function even_cards(){if($(window).width()>767){var e=0;$(".card-body").not(".agent-card-body").each(function(){$(this).height()>e&&(e=$(this).height())}),$(".card-body").not(".agent-card-body").height(e)}}function format_phone(e){var t=e.value.replace(/\D/g,""),a={0:"(",3:") ",6:"-"};e.value="";for(var n=0;n<t.length;n++){if(n>13)return!1;e.value+=(a[n]||"")+t[n]}}$(document).ready(function(){$(".button-collapse").sideNav();var e=document.querySelector(".custom-scrollbar");Ps.initialize(e),parallax(),document.URL.match(/index/)&&"propnotfound"==$.urlParam("error")&&toastr.error("We are sorry but that property was not found. It might have been withdrawn from the market","Not Found",{closeButton:!0,positionClass:"toast-top-center"}),document.URL.match(/careers/)&&($(".other-testimonials p:odd").addClass("wow bounceInLeft"),$(".other-testimonials p:even").addClass("wow bounceInRight")),""!=Cookies.get("search")&&($("#search").val(Cookies.get("search")),$('label[for="search"]').addClass("active"),$("#beds").val(Cookies.get("beds")),$("#baths").val(Cookies.get("baths")),$('#min_price option[value="'+Cookies.get("lowprice")+'"]').attr("selected","selected"),$('#max_price option[value="'+Cookies.get("highprice")+'"]').attr("selected","selected"),$('[name="buyrent"][value="'+Cookies.get("buyrent")+'"]').prop("checked",!0),price_change(),beds_baths_change()),price_change(),$("#min_price, #max_price").change(price_change),beds_baths_change(),$("#beds, #baths").change(beds_baths_change),$('[name="phone"], .phone').bind("keypress change blur",function(){format_phone(this)}).attr("maxlength","14"),even_cards();var t="ToCancelPrevReq";$("#search").bind("keyup focus mousedown",function(){$("html, body").animate({scrollTop:100},1e3);var e=$("#search").val();""!=e?t=$.ajax({url:"/ajax/search/search.php",type:"POST",data:{val:e},beforeSend:function(){"ToCancelPrevReq"!=t&&t.readyState<4&&t.abort()},success:function(t){$(".search-results-div").fadeIn().html(t).highlight(e),$(".results-row").click(search),$(document).mouseup(function(e){var t=$(".search-results-div");t.is(e.target)||0!==t.has(e.target).length||t.hide()})}}):$(".search-results-div").hide()}),$("#search_link").click(function(){search_link()}),$(".mdb-select").material_select(),(document.URL.match(/index/)||document.URL.match(/taylorproperties.co\/$/i))&&($(window).width()>767?get_featured():get_featured_mobile(),$(window).resize(function(){$(window).width()>767?get_featured():get_featured_mobile()})),document.URL.match(/our-agents/)&&($(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-300&&loadmore()}),$("#agent_search").focus(function(){""==$(this).val()&&load_search()}),$("#agent_search").keyup(search_agents),$(".email-agent").click(set_agent_details)),$("#email_agent").click(function(){}),$("#agent_contact_form").submit(function(e){e.preventDefault(),submit_agent_contact_form()}),$("#general_contact_form").submit(function(e){e.preventDefault(),submit_general_contact_form()}),(new WOW).init()}),$.urlParam=function(e){if(window.location.href.match(/\?/))return new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href)[1]||0},document.URL.match(/mortgage/)&&($(".show-quote").click(function(){$("#tcWidgetPopup").fadeIn()}),function(){function e(){var e=a.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://www.titlecapture.com/tcw/tc-widget.php",e.id="tc_widget_js";var t=a.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}var t=window,a=(t.tclp_Option,document),n=function(){n.c(arguments)};n.q={companyId:605},t.tclp_Option=n,t.attachEvent?t.attachEvent("onload",e):t.addEventListener("load",e,!1)}());